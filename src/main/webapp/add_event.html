<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/css/bootstrap.min.css"
    integrity="sha384-9gVQ4dYFwwWSjIDZnLEWnxCjeSWFphJiwGPXr1jddIhOegiu1FwO5qRGvFXOdJZ4" crossorigin="anonymous">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
    integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
    crossorigin="anonymous"></script>
  <link rel="stylesheet" href="style.css">
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/solid.js"
    integrity="sha384-tzzSw1/Vo+0N5UhStP3bvwWPq+uvzCMfrN1fEFe+xBmv1C/AtVX5K0uZtmcHitFZ"
    crossorigin="anonymous"></script>
  <script defer src="https://use.fontawesome.com/releases/v5.0.13/js/fontawesome.js"
    integrity="sha384-6OIrr52G08NpOFSZdxxz1xdNSndlD4vdcf/q2myIUVO0VsqaGHJsB0RaBE01VTOY"
    crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js"
    integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm"
    crossorigin="anonymous"></script>
  <script type='text/javascript' src='config.js'></script>
  <script src="script.js"></script>
  <script src="places_api.js"></script>
  <script>
    "use strict";
    let autocomplete;

    function initLocation() {
      autocomplete = new google.maps.places.Autocomplete(
      document.getElementById('event-location'),{});
      autocomplete.addListener("place_changed", onPlaceChanged);
    }

    function onPlaceChanged() {
      const place = autocomplete.getPlace();
      document.getElementById('event-location-id').value = place.place_id;
    }
  </script>
</head>

<body onload="setMinDateToToday();">
  <div id="wrapper">
    <!-- Used to include the same sidebar on each page.-->
    <div id="sideBar">
      <script>
        $(function () {
          $("#sideBar").load("sidebar.html");
        });
      </script>
    </div>
    <div id="page-content-wrapper">
      <form id="add-event-form" action="/events" method="POST">
        <label for="event-title">Title</label>
        <input type="text" id="event-title" name="title">

        <label for="event-start-date">Start date</label>
        <input type="date" id="event-start-date" name="start-date" max="2200-01-01">

        <label for="event-start-time">Start time</label>
        <input type="time" id="event-start-time" name="start-time">

        <label for="event-duration">Duration in minutes</label>
        <input type="text" id="event-duration" name="duration">

        <label for="event-category">Category</label>
        <input list="event-category-list" id="event-category" name="category">
        <datalist id="event-category-list">
          <option value="entertainment"></option>
          <option value="education"></option>
          <option value="business"></option>
        </datalist>

        <label for="event-tags">Tags</label>
        <input list="event-tags-list" id="event-tags" name="tags">
        <datalist id="event-tags-list">
          <option value="entertainment"></option>
          <option value="education"></option>
          <option value="business"></option>
        </datalist>

        <label for="event-description">Description</label>
        <textarea id="event-description" name="description"></textarea>

        <label for="event-location">Location</label>
        <input type="text" id="event-location" name="location">

        <label for="event-links">Links</label>
        <input type="text" id="event-links" name="links">

        <input id="add-event-fields" type="button" value="Add custom field" onclick="showFieldName()">

        <div id="add-event-field" hidden>
          <label for="field-name">Field name</label>
          <input type="text" id="field-name">
          <input type="button" value="Add" onclick="addField()">
        </div>

        <label for="person">Person</label>
        <input type="text" id="person">
        <input type="button" value="Add" onclick="addPerson()">

        <div id="event-people">
          <ul id="event-people-list">
          </ul>
        </div>
        <div id="event-location-id" name="event-location-id"></div>

        <input type="submit" value="Done">
      </form>
    </div>
  </div>

</body>

</html>
